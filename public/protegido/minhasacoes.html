<header>    
  <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT"
      crossorigin="anonymous"
    />

    <!-- Fontes -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet" />

    <!-- Seu CSS -->
    <link rel="stylesheet" href="/style/index.css" />
    <style>
      footer {
  background-color: #222;
  padding: 20px 0;
  overflow: hidden;
  color: white;
  font-family: Arial, sans-serif;
}

.carousel-container {
  width: 100%;
  overflow: hidden;
  position: relative;
}

/* Adicionei o seletor #footer-acoes para escopo mais restrito */
#footer-acoes {
  display: flex;
  animation: scroll 20s linear infinite;
  animation-play-state: running;
}

#footer-acoes:hover {
  animation-play-state: paused;
}

#footer-acoes .card {
  flex: 0 0 auto;
  width: 260px;
  margin: 0 12px;
  background: #333;
  border-radius: 8px;
  padding: 15px;
  box-shadow: 0 0 10px rgba(0,0,0,0.4);
  transition: background-color 0.3s;
}

#footer-acoes .card:hover {
  background-color: #444;
}

#footer-acoes .card h3 {
  margin: 0 0 10px 0;
  font-size: 1.2rem;
  color: #f5a623; /* cor para o código da ação */
}

#footer-acoes .card p {
  margin: 5px 0;
  font-size: 1rem;
  color: #ddd;
}

@keyframes scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

    </style>
</header>

<body>
  <div id="navbar"></div>

    <script>
    fetch('/html/navbar.html')
      .then(res => res.text())
      .then(data => {
        document.getElementById('navbar').innerHTML = data;
  
        // Agora que a navbar foi inserida no DOM, podemos configurar a troca de tema
        setupThemeSwitch();
      });
    </script>

<!-- HTML AQUI DENTRO -->

<!-- Main Section -->
  <div class="main container mt-5">
    <div class="row g-4 text-center">
      <!-- Minha Carteira (à esquerda dos outros dois) -->
      <div class="col-lg-4 col-md-6 col-sm-12">
        <div class="card p-4 shadow-sm" style="height: 100%">
          <h4>Minha Carteira</h4>
          <p class="fs-3 fw-bold text-dark">R$ 0,00</p>
        </div>
      </div>

      <!-- Total Investido -->
      <div class="col-lg-4 col-md-6 col-sm-12">
        <div class="card p-4 shadow-sm" style="height: 100%">
          <h4>Total Investido</h4>
          <p id="totalInvestido" class="fs-3 fw-bold text-dark">R$ 0,00</p>
        </div>
      </div>

      <!-- Total de Ações -->
      <div class="col-lg-4 col-md-6 col-sm-12">
        <div class="card p-4 shadow-sm" style="height: 100%">
          <h4>Total de Ações</h4>
          <p id="totalAcoes" class="fs-3 fw-bold text-dark">0 ações</p>
        </div>
      </div>
    </div>

    <div class="row g-4 text-center mt-4">
      <!-- Saldo Positivo -->
      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="card p-4 shadow-sm">
          <h4>Saldo Positivo</h4>
          <p class="fs-3 fw-bold text-success">R$ 0,00</p>
        </div>
      </div>

      <!-- Saldo Negativo -->
      <div class="col-lg-6 col-md-6 col-sm-12">
        <div class="card p-4 shadow-sm">
          <h4>Saldo Negativo</h4>
          <p class="fs-3 fw-bold text-danger">R$ 0,00</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Botão Adicionar Ação -->
  <div class="d-flex justify-content-center mt-4">
    <button class="btn btn-lg btn-success action-btn" style="font-family: 'Poppins', sans-serif" data-bs-toggle="modal"
      data-bs-target="#actionModal">
      Adicionar nova ação
    </button>
  </div>

  <!-- Modal Adicionar Ação -->
  <div class="modal fade" id="actionModal" tabindex="-1" aria-labelledby="actionModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="actionModalLabel">
            Adicionar nova ação
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <label for="actionSelect" class="form-label">Selecione uma ação:</label>
          <select class="form-select mb-3" id="actionSelect">
            <option value="">Carregando ações...</option>
          </select>

          <label for="actionValue" class="form-label">Valor da ação:</label>
          <input type="text" id="actionValue" class="form-control mb-3" disabled />

          <label for="actionQuantity" class="form-label">Quantidade:</label>
          <input type="number" id="actionQuantity" class="form-control mb-3" placeholder="Quantidade" />

          <button class="btn btn-primary w-100" id="incluirBtn">
            Adicionar Ação
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Botão para Exibir/Ocultar as ações -->
  <div class="acoes-header" style="text-align: center; margin-top: 30px;">
    <button id="toggleAcoesBtn">
      Ver Minhas Ações <span class="arrow">▼</span>
    </button>

    <div class="acoes-modernas">
      <!-- Cards das ações aqui -->
    </div>

    <footer>
      <div class="carousel-container">
        <div class="carousel" id="footer-acoes"></div>
      </div>
    </footer>
    
    <script src="/js/actions.js"></script>

<!-- FIM -->

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
      crossorigin="anonymous"
    ></script>
    <script src="/js/hipopotamo.js"></script>
    <script>
  fetch("/json/acoesBR.json")
        .then(response => response.json())
        .then(data => {
          const carousel = document.getElementById('footer-acoes');
          const entries = Object.entries(data);
    
          // Duplicar para animação contínua
          const fullEntries = entries.concat(entries);
    
          fullEntries.forEach(([code, info]) => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
              <h3>${code}</h3>
              <p><strong>Nome:</strong> ${info.nome}</p>
              <p><strong>Preço atual:</strong> R$ ${info.preco_atual.toFixed(2)}</p>
            `;
            carousel.appendChild(card);
          });
        })
        .catch(err => {
          console.error('Erro ao carregar o arquivo JSON:', err);
        });
    </script>
    
    
</body>